@using Microsoft.Extensions.Configuration
@using Microsoft.AspNetCore.Http
@using WebSite.Helpers
@inject IConfiguration _config;
@inject IHttpContextAccessor _httpContextAccessor
@if (User.Identity.IsAuthenticated)
{
    var NickName = DataHelper.GetUserNickName(User);
    var UserImage = _httpContextAccessor.HttpContext.Session.GetString("ProfileImage");
    <div class="dropdown">
        <button class="btn dropdown-toggle link-sign" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            @*<a class="nav-link py-0 p-2" data-toggle="dropdown" href="#">
                <img id="imgProfileImage" style="width: 40px; height: 40px; border-radius: 20px;"
                     src="@($"{_config["BaseUrl"]}/img/users/{UserImage}")"
                     alt="Profile Image"
                     onerror=@($"src='{_config["BaseUrl"]}/img/users/default_user100.png'")
                     asp-append-version="true" />
            </a>*@
            
            <span>@(!string.IsNullOrEmpty(NickName)?NickName: User.Identity.Name)</span>
        </button>
        <div class="dropdown-menu " aria-labelledby="dropdownMenuButton" style="background-color: #967d3d;width:100%;">
            <a class="dropdown-item" href="/Seller-Dashboard">Dashboard</a>
            <a class="dropdown-item" href="/Account/Logout">Signout</a>
            

            <!--<div class="profileuser">-->
                @*<img id="imgProfileImage" class="photoUser"
            src="@($"{_config["BaseUrl"]}/img/users/{UserImage}")"
            alt="Profile Image"
            onerror=@($"src='{_config["BaseUrl"]}/img/users/default_user100.png'")
            asp-append-version="true" />*@
                @*<div class="container-fluid conFooter">
                <div class="row mt-2 mb-2">
                    <div class="col-md-6"><a type="button" class="btn btn-danger" href="/Seller-Dashboard">Dashboard</a></div>
                    <div class="col-md-6 text-right"><a type="button" class="btn btn-danger" data-dismiss="modal" href="/Account/Logout"><i class="fas fa-sign-out-alt mr-2"></i> Signout</a></div>
                </div>


            </div>*@
            <!--</div>-->

        </div>
    </div>
}
else
{
    <div class="dropdown hideforprint">
        <button class="btn dropdown-toggle link-sign" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="icon-icon-9"></i> <span>Register or Sign in</span>
        </button>
        <div class="dropdown-menu " aria-labelledby="dropdownMenuButton" style="background-color: #967d3d;width:100%;">
            <a class="dropdown-item" href="/seller-registration">Seller Registration</a>
            <a class="dropdown-item" href="/buyer-registration-form">Buyer Registration</a>
            <a class="dropdown-item" href="/VisitorRegistrations">Visitor Registration</a>
            <a class="dropdown-item" href="/account/seller-login">Login</a>

        </div>
    </div>
}




@*<div id="divClientAlert" class="alert" role="alert" style="display: none;">
        <button type="button" class="close" data-hide="alert" aria-label="Close"><i class="fa fa-times"></i></button>
        <p class="m-0"></p>
    </div>*@